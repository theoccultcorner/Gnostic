import{r as d,b as k,u as F,j as a,F as w,as as o,a as e,ah as l,at as z,au as j,V as c,aw as T,az as B,ax as M,ai as _,aj as $,ak as A,am as L,al as N,W as g,an as q,ay as E}from"./index-3dc75cc8.js";import{d as J}from"./BookmarkBorder-234d545a.js";import{d as V}from"./Delete-3f810412.js";const K=({user:n,postId:r,postUserUid:h,likecount:t,likesHandler:f,imageUrl:S,caption:v,fullScreen:x})=>{const[m,i]=d.useState(!1),[p,u]=d.useState(!1),[y,C]=d.useState(JSON.parse(localStorage.getItem("posts"))||[]),D=t?[...t]:[],{enqueueSnackbar:O}=k(),b=n.uid,P=F();return a(w,{children:[" ",a(o,{gap:!x&&"1.6rem",children:[a(o,{sx:{cursor:"pointer"},onClick:f,children:[e(l,{children:D.indexOf(n==null?void 0:n.uid)!==-1?e(z,{sx:{color:"red"}}):e(j,{style:{color:"var(--post-nav-icons)"}})}),a(c,{fontSize:14,children:[t==null?void 0:t.length," ",t.length>1?"likes":"like"]})]}),a(o,{sx:{cursor:"pointer"},onClick:()=>{u(s=>!s)},children:[e(l,{children:e(T,{style:{color:"var(--post-nav-icons)"}})}),e(c,{fontSize:14,children:"Share"})]}),a(o,{sx:{cursor:"pointer"},onClick:async()=>{const s=await B(r);C(s)},children:[e(l,{children:y.indexOf(r)!==-1?e(M,{sx:{color:"green"}}):e(J,{style:{color:"var(--post-nav-icons)"}})}),e(c,{fontSize:14,children:"Save"})]}),b===h&&a(o,{sx:{cursor:"pointer"},onClick:()=>i(s=>!s),children:[e(l,{children:e(V,{})}),e(c,{fontSize:14,children:"Delete"})]})]}),a(_,{open:m,onClose:()=>i(!1),"aria-labelledby":"responsive-dialog-title",children:[e($,{id:"responsive-dialog-title",children:"Delete Post?"}),e(A,{children:e(L,{children:"Are you sure you want to delete this post?"})}),a(N,{children:[e(g,{onClick:()=>i(!1),children:"Cancel"}),e(g,{onClick:async()=>{await q(h,r,S,O,i),P("/")},children:"Delete"})]})]}),p&&e(E,{openShareModal:p,setOpenShareModal:u,currentPostLink:`https://narayan954.github.io/dummygram/posts/${r}`,postText:v})]})};export{K as default};
